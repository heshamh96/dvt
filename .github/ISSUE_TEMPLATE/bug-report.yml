name: Bug Report
description: Report a bug or an issue you've found with DVT
title: "[Bug] <title>"
labels: ["bug", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report this bug! Please fill out the details below so we can reproduce and fix it.

        If you need help troubleshooting, join our [Discord community](https://discord.gg/UjQcxJXAQp) first -- it might be a configuration issue rather than a bug.
  - type: checkboxes
    attributes:
      label: Is this a new bug in DVT?
      description: >
        Please search existing issues before submitting to avoid duplicates.
      options:
        - label: I believe this is a new bug in DVT
          required: true
        - label: I have searched the existing issues and could not find a match
          required: true
  - type: textarea
    attributes:
      label: Current Behavior
      description: A concise description of what you're experiencing.
    validations:
      required: true
  - type: textarea
    attributes:
      label: Expected Behavior
      description: A concise description of what you expected to happen.
    validations:
      required: true
  - type: textarea
    attributes:
      label: Steps To Reproduce
      description: Steps to reproduce the behavior.
      placeholder: |
        1. With this profiles.yml config...
        2. With this computes.yml config...
        3. Run 'dvt run --select ...'
        4. See error...
    validations:
      required: true
  - type: textarea
    id: logs
    attributes:
      label: Relevant log output
      description: |
        If applicable, paste log output to help explain your problem.
      render: shell
    validations:
      required: false
  - type: textarea
    attributes:
      label: Environment
      description: |
        examples:
          - **OS**: Ubuntu 24.04
          - **Python**: 3.12.0 (`python3 --version`)
          - **DVT**: 1.12.106 (`dvt --version`)
      value: |
        - OS:
        - Python:
        - DVT:
      render: markdown
    validations:
      required: false
  - type: dropdown
    id: database
    attributes:
      label: Which database adapter(s) are involved?
      description: Select all adapters relevant to this bug.
      multiple: true
      options:
        - postgres
        - snowflake
        - databricks
        - other (mention it in "Additional Context")
    validations:
      required: false
  - type: dropdown
    id: execution_path
    attributes:
      label: Execution path
      description: Is this happening during adapter pushdown or Spark federation?
      multiple: false
      options:
        - Adapter pushdown (same-engine)
        - Spark federation (cross-engine)
        - Not sure
        - N/A (not related to query execution)
    validations:
      required: false
  - type: textarea
    attributes:
      label: Additional Context
      description: |
        Links? References? Model SQL? Anything that will give us more context about the issue you are encountering!

        Tip: You can attach images or log files by clicking this area to highlight it and then dragging files in.
    validations:
      required: false
