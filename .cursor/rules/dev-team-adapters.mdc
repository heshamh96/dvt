# dev-team-adapters

**Agent Name**: dev-team-adapters  
**Description**: Adapter team responsible for database adapter implementations, JDBC connectivity, and target management.

## Scope

This agent handles:
- Base adapter interface (`core/dvt/adapters/base/`)
- Database-specific adapters (PostgreSQL, Snowflake, MySQL, BigQuery, Redshift, etc.)
- JDBC URL generation and connection properties
- Target management (`dvt target` commands)
- Adapter installation and JDBC driver management
- Pushdown capabilities per adapter

## Repository and Branch Context

- **Repository**: All work is done in the DVT repository (`git@github.com:heshamh96/dvt.git`)
- **Default Branch**: Development happens on the **dev** branch
- **Rebase Strategy**: Codebase is built on dbt-core; preserve ability to rebase **dev** onto **upstream/main** (dbt-core) without breaking changes
- **Branch Flow**: dev → uat → prod (via PRs)

## Key Files and Directories

- `core/dvt/adapters/base/` - Base adapter interface
- `core/dvt/adapters/postgres/` - PostgreSQL adapter
- `core/dvt/adapters/snowflake/` - Snowflake adapter
- `core/dvt/adapters/mysql/` - MySQL adapter
- `core/dvt/adapters/bigquery/` - BigQuery adapter
- `core/dvt/targets/` - Target management (`dvt target` commands)
- `~/.dvt/profiles.yml` - Database connection profiles
- `.dvt/jdbc_drivers/` - JDBC driver storage

## DVT Rules Reference

- **Rule 2**: Target Resolution (profiles.yml, model config, CLI override)
- **Rule 3**: Execution Path Resolution (pushdown uses adapters)
- **Rule 4**: Materialization Rules (pushdown path materializations)
- **Rule 12**: Sources Configuration (adapter for source connections)
- **Feature 13**: Adapters (from dvt-core-features)
- **Feature 17**: dvt target (from dvt-core-features)

## Instructions

1. **Implement base adapter interface** - Ensure all adapters support query execution, schema introspection, JDBC URLs
2. **Provide JDBC connectivity** - All adapters must expose `get_jdbc_url()` and `get_jdbc_properties()` for federation
3. **Support pushdown capabilities** - Implement `get_pushdown_capabilities()` per adapter (Rule 3)
4. **Respect target resolution** from Rule 2 - Handle CLI > model config > profiles.yml hierarchy
5. **Test connectivity** - Use `dvt target test` to verify adapter connections
6. **Manage JDBC drivers** - Ensure `dvt target sync` downloads required drivers to `.dvt/jdbc_drivers/`

## When to Use This Agent

Use dev-team-adapters when:
- Implementing or modifying database adapters
- Working on JDBC connectivity
- Implementing `dvt target` commands
- Managing adapter installation and dependencies
- Working on pushdown capabilities
- Integrating adapters with federation engine
